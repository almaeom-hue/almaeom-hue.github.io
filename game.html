<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 인생 고전은...</title>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@700&family=Pretendard:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --main-bg: #fdfaf5; --point-green: #7c8e6a; --text-black: #2c2c2c; }
        body { font-family: 'Pretendard', sans-serif; margin: 0; background: var(--main-bg); color: var(--text-black); }
        
        nav { display: flex; justify-content: center; padding: 30px; background: transparent; }
        nav a { margin: 0 20px; text-decoration: none; color: #888; font-weight: 500; transition: 0.3s; }
        nav a:hover, nav a.active { color: var(--point-green); font-weight: 700; }

        .section-container { max-width: 600px; margin: 60px auto; padding: 0 20px; animation: fadeIn 1s; }
        .content-card { background: white; padding: 50px; border-radius: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.02); text-align: center; }
        
        h2 { font-family: 'Nanum Myeongjo', serif; font-size: 2rem; margin-bottom: 10px; }
        .progress-bar { width: 100%; height: 4px; background: #eee; margin: 30px 0; border-radius: 2px; }
        .progress-fill { height: 100%; background: var(--point-green); width: 25%; transition: 0.5s; }

        #q-text { font-size: 1.25rem; font-weight: 500; margin-bottom: 40px; word-break: keep-all; }
        .ans-zone { display: flex; flex-direction: column; gap: 10px; }
        
        .q-btn { 
            width: 100%; padding: 20px; border: 1px solid #eee; background: white; 
            border-radius: 15px; cursor: pointer; transition: 0.3s; font-size: 1rem; 
        }
        .q-btn:hover { background: #fdfaf5; border-color: var(--point-green); color: var(--point-green); transform: translateY(-2px); }

        #res-zone { display: none; }
        .res-badge { display: inline-block; padding: 5px 15px; background: #f4f7f0; color: var(--point-green); border-radius: 20px; font-size: 0.9rem; margin-bottom: 20px; }
        #res-title { font-size: 2.2rem; color: var(--point-green); margin-bottom: 20px; font-family: 'Nanum Myeongjo', serif; }
        #res-desc { color: #666; line-height: 1.8; margin-bottom: 30px; word-break: keep-all; }
        .retry-btn { background: none; border: none; color: #aaa; text-decoration: underline; cursor: pointer; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">Home</a>
        <a href="intro.html">수업소개</a>
        <a href="teacher.html">선생님소개</a>
        <a href="curriculum.html">평가안내</a>
        <a href="game.html" class="active">인생책찾기</a>
    </nav>

    <div class="section-container">
        <div class="content-card">
            <div id="q-zone">
                <h2>나의 인생 고전은...</h2>
                <div class="progress-bar"><div class="progress-fill" id="pb"></div></div>
                <p id="q-text"></p>
                <div id="ans-zone" class="ans-zone"></div>
            </div>

            <div id="res-zone">
                <div class="res-badge">당신을 위한 독서 처방전</div>
                <h2 id="res-title"></h2>
                <p id="res-desc"></p>
                <button class="retry-btn" onclick="location.reload()">테스트 다시 하기</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            { q: "요즘 나의 관심사는?", a: [{t: "나 자신의 내면과 성장", v: "A"}, {t: "우리가 사는 사회와 공동체", v: "B"}] },
            { q: "어떤 방식의 이야기를 좋아하나요?", a: [{t: "감동이 있는 문학적 서사", v: "1"}, {t: "지적 자극을 주는 인문 지식", v: "2"}] },
            { q: "토론할 때 중요하게 생각하는 것은?", a: [{t: "서로의 마음을 나누는 공감", v: "X"}, {t: "날카로운 통찰과 논리", v: "Y"}] },
            { q: "독서 프로젝트를 통해 얻고 싶은 결과는?", a: [{t: "삶에 대한 따뜻한 위로", v: "S"}, {t: "세상을 보는 넓은 시야", v: "T"}] }
        ];

        // 모든 16가지 조합(2^4)에 대해 도서를 매칭하여 중복 방지
        const results = {
            // A성향 (내면/성찰)
            "A1XS": { t: "어린 왕자", d: "가장 중요한 것은 눈에 보이지 않는다는 것을 믿는, 따뜻한 감수성을 지닌 당신에게 추천합니다." },
            "A1XT": { t: "모모", d: "바쁜 세상 속에서 타인의 말을 들어주는 법과 소중한 시간을 되찾고 싶은 당신을 위한 책입니다." },
            "A1YS": { t: "데미안", d: "자아의 껍질을 깨고 진정한 자신을 마주하고자 하는 뜨거운 성장의 열망을 가진 당신께 추천합니다." },
            "A1YT": { t: "멋진 신세계", d: "미래 사회 속 인간의 존엄성과 감정의 가치를 문학적 통찰로 고민해보고 싶은 당신에게 어울립니다." },
            "A2XS": { t: "숨결이 바람 될 때", d: "삶의 끝에서 무엇이 인간을 인간답게 만드는지 깊은 울림을 얻고 싶은 당신에게 추천합니다." },
            "A2XT": { t: "연금술사", d: "자신의 꿈과 자아의 신화를 찾아 떠나는 여정 속에서 지혜를 얻고 싶은 당신을 위한 안내서입니다." },
            "A2YS": { t: "나의 가해자들에게", d: "개인의 내면적 상처를 응시하며 더 나은 삶을 향한 용기를 얻고 싶은 당신께 추천합니다." },
            "A2YT": { t: "명상록", d: "혼란스러운 세상 속에서 흔들리지 않는 마음의 중심을 잡고 싶은 지적인 당신을 위한 고전입니다." },

            // B성향 (사회/공동체)
            "B1XS": { t: "모두가 앉아 있는 곳", d: "타인의 고통에 공감하며 공동체 속에서 우리의 자리를 찾고 싶은 당신에게 추천합니다." },
            "B1XT": { t: "1984", d: "권력과 개인의 자유, 그리고 진실의 소중함에 대해 날카롭게 비판하고 토론하고 싶은 당신께 어울립니다." },
            "B1YS": { t: "페스트", d: "부조리한 세상 속에서도 묵묵히 자신의 책임을 다하는 연대와 용기를 배우고 싶은 당신을 위한 필독서입니다." },
            "B1YT": { t: "동물농장", d: "사회 구조의 모순과 평등의 가치를 날카로운 우화로 파헤쳐보고 싶은 당신에게 추천합니다." },
            "B2XS": { t: "우리가 빛의 속도로 갈 수 없다면", d: "소외된 이들을 바라보는 따뜻한 시선과 과학적 상상력을 함께 나누고 싶은 당신에게 어울리는 책입니다." },
            "B2XT": { t: "침묵의 봄", d: "생태계와 환경, 그리고 우리 공동체의 미래를 위해 행동하고 싶은 당신의 용기를 응원합니다." },
            "B2YS": { t: "정의란 무엇인가", d: "우리 사회의 복잡한 딜레마를 논리적이고 정의로운 관점에서 해결하고 싶은 당신께 추천합니다." },
            "B2YT": { t: "사피엔스", d: "인류의 거대한 역사를 통해 현대 사회의 본질을 꿰뚫어 보는 지적 통찰을 원하는 당신을 위한 책입니다." }
        };

        let current = 0;
        let code = "";

        function load() {
            if (current >= questions.length) {
                showResult();
                return;
            }
            document.getElementById('pb').style.width = ((current + 1) * 25) + "%";
            document.getElementById('q-text').innerText = questions[current].q;
            const az = document.getElementById('ans-zone');
            az.innerHTML = "";
            questions[current].a.forEach(ans => {
                const btn = document.createElement('button');
                btn.className = 'q-btn';
                btn.innerText = ans.t;
                btn.onclick = () => { code += ans.v; current++; load(); };
                az.appendChild(btn);
            });
        }

        function showResult() {
            document.getElementById('q-zone').style.display = 'none';
            document.getElementById('res-zone').style.display = 'block';
            
            // 모든 조합이 정의되어 있으므로 직접 매칭
            const finalRes = results[code];
            
            document.getElementById('res-title').innerText = finalRes.t;
            document.getElementById('res-desc').innerText = finalRes.d;
        }

        load();
    </script>
</body>
</html>